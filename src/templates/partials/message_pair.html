{#
Message pair partial template - AI response with optional scaffolding and grammar feedback
The user message is shown immediately via JavaScript (optimistic UI)
Variables expected:
  - ai_response: string (the AI's response)
  - scaffolding: dict (optional) - scaffolding help for A0-A1 learners with:
    - enabled: boolean
    - word_bank: list of strings
    - hint_text: string
    - sentence_starter: string
    - auto_expand: boolean
  - grammar_feedback: list (optional) - grammar corrections from analyze node
  - new_vocabulary: list (optional) - vocabulary items from analyze node
#}

<!-- AI Response -->
<div class="message-enter flex justify-start mb-6">
    <div class="bg-ai rounded-2xl rounded-bl-sm px-4 py-3 max-w-[80%] shadow-sm">
        <div class="text-ai-text leading-relaxed">
            {{ ai_response | safe }}
        </div>
    </div>
</div>

<!-- Scaffolding Help (collapsible) - for A0-A1 learners -->
{% if scaffolding and scaffolding.enabled %}
{% include "partials/scaffold.html" %}
{% endif %}

<!-- Grammar Feedback (collapsible) -->
{% if grammar_feedback %}
{% include "partials/grammar_feedback.html" %}
{% endif %}
